"use strict";(self["webpackChunktrading_system"]=self["webpackChunktrading_system"]||[]).push([[957],{7896:function(e,t,a){a.d(t,{Z:function(){return u}});var l=a(4708),i=(a(3241),a(1010),a(5659)),n=(a(444),a(363),a(6252));const o={class:"container"};function s(e,t,a,s,d,r){const m=l.$Y,u=i.ElButton,p=l.eI;return(0,n.wg)(),(0,n.iD)("div",o,[(0,n.Wm)(p,{data:a.companyListings,style:{width:"100%"}},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{prop:"listingid",label:"Listing ID"}),(0,n.Wm)(m,{prop:"companyname",label:"Company Name"}),"Delete"!==a.displayType?((0,n.wg)(),(0,n.j4)(m,{key:0,prop:"category",label:"Category"})):(0,n.kq)("",!0),(0,n.Wm)(m,{prop:"shareType",label:"Share Type"}),(0,n.Wm)(m,{prop:"numShare",label:"Amount"}),(0,n.Wm)(m,{prop:"price",label:"Price($)"}),"Buy"==a.displayType?((0,n.wg)(),(0,n.j4)(m,{key:1,label:"Purchase"},{default:(0,n.w5)((e=>[(0,n.Wm)(u,{type:"primary",onClick:t=>r.buyShare(e.row.listingid)},{default:(0,n.w5)((()=>[(0,n.Uk)("Buy")])),_:2},1032,["onClick"])])),_:1})):(0,n.kq)("",!0),"Sell"==a.displayType?((0,n.wg)(),(0,n.j4)(m,{key:2,label:"Sell"},{default:(0,n.w5)((e=>[(0,n.Wm)(u,{type:"primary",onClick:t=>r.sellShare(e.row.listingid)},{default:(0,n.w5)((()=>[(0,n.Uk)("Sell")])),_:2},1032,["onClick"])])),_:1})):(0,n.kq)("",!0),"Edit"==a.displayType?((0,n.wg)(),(0,n.j4)(m,{key:3,label:"Edit"},{default:(0,n.w5)((e=>[(0,n.Wm)(u,{type:"primary",onClick:t=>r.editListing(e.row)},{default:(0,n.w5)((()=>[(0,n.Uk)("Edit")])),_:2},1032,["onClick"])])),_:1})):(0,n.kq)("",!0)])),_:1},8,["data"])])}var d={props:{companyListings:{type:Array,default:()=>[]},displayType:{type:String,default:null}},methods:{buyShare(e){this.$emit("buy-share",e)},sellShare(e){this.$emit("sell-share",e)},editListing(e){this.$emit("edit-listing",e)}}},r=a(3744);const m=(0,r.Z)(d,[["render",s],["__scopeId","data-v-82fe6df2"]]);var u=m},3957:function(e,t,a){a.r(t),a.d(t,{default:function(){return U}});var l=a(3481),i=(a(3241),a(677),a(5659)),n=(a(444),a(5836)),o=(a(9840),a(6589),a(5841)),s=(a(4367),a(7896)),d=a(3034),r=(a(986),a(1715),a(6252));function m(e,t,a,l,s,m){const u=o.EZ,p=n.nH,c=d.BT,g=d.ElSelect,h=i.ElButton,y=n.ly;return(0,r.wg)(),(0,r.j4)(y,{ref:"form",model:s.form,"label-width":"120px"},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{label:"Share Price"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{modelValue:s.form.sharePrice,"onUpdate:modelValue":t[0]||(t[0]=e=>s.form.sharePrice=e),type:"number",step:"0.01"},null,8,["modelValue"])])),_:1}),(0,r.Wm)(p,{label:"Share Amount"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{modelValue:s.form.shareAmount,"onUpdate:modelValue":t[1]||(t[1]=e=>s.form.shareAmount=e),modelModifiers:{number:!0}},null,8,["modelValue"])])),_:1}),(0,r.Wm)(p,{label:"Share Type"},{default:(0,r.w5)((()=>[(0,r.Wm)(g,{modelValue:s.form.shareType,"onUpdate:modelValue":t[2]||(t[2]=e=>s.form.shareType=e),placeholder:"Select share type"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{label:"A",value:"A"}),(0,r.Wm)(c,{label:"B",value:"B"}),(0,r.Wm)(c,{label:"C",value:"C"}),(0,r.Wm)(c,{label:"D",value:"D"})])),_:1},8,["modelValue"])])),_:1}),(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(h,{type:"primary",onClick:m.onSubmit},{default:(0,r.w5)((()=>[(0,r.Uk)("Submit")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])}var u=a(3907),p=a(2104),c=a(1348),g={name:"AddCompanyListing",data(){return{form:{sharePrice:null,shareAmount:null,shareType:""}}},computed:{...(0,u.Se)(["getCompanyId"])},methods:{onSubmit(){console.log("Form data:",this.form),p.Z.addCompanyListings(this.getCompanyId,this.form.shareType,this.form.shareAmount,this.form.sharePrice).then((e=>{console.log(e),"success"===e.data.status?(console.log("added"),(0,c.z8)({message:"Successfully Added",type:"success"}),this.$emit("renew-listings")):"duplicate"===e.data.status?(console.log("Fail to add, "),c.z8.error("Share exist, please considering edit listing")):(console.log("Fail to add"),c.z8.error("Failed to add listing"))}))}}},h=a(3744);const y=(0,h.Z)(g,[["render",m]]);var f=y,w=a(984),b=(a(4334),a(632),a(3577));const C={id:"company-dashboard"},k=(0,r._)("h1",null,"Company Dashboard",-1),L={class:"dialog-footer"};function W(e,t,a,d,m,u){const p=w.E_,c=w.Q8,g=f,h=s.Z,y=o.EZ,W=n.nH,_=n.ly,S=i.ElButton,U=l.d0;return(0,r.wg)(),(0,r.iD)("div",C,[k,(0,r.Wm)(c,{mode:"horizontal"},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{index:"1",onClick:t[0]||(t[0]=e=>u.switchMenu(1))},{default:(0,r.w5)((()=>[(0,r.Uk)("Create")])),_:1}),(0,r.Wm)(p,{index:"2",onClick:t[1]||(t[1]=e=>u.switchMenu(2))},{default:(0,r.w5)((()=>[(0,r.Uk)("Manage Current Listing")])),_:1})])),_:1}),1===m.menuIndex?((0,r.wg)(),(0,r.j4)(g,{key:0,onRenewListings:u.renewListings},null,8,["onRenewListings"])):(0,r.kq)("",!0),2===m.menuIndex?((0,r.wg)(),(0,r.j4)(h,{key:1,companyListings:m.companyListings,displayType:"Edit",onEditListing:u.editListing},null,8,["companyListings","onEditListing"])):(0,r.kq)("",!0),(0,r.Wm)(U,{modelValue:m.isUpdateVisiable,"onUpdate:modelValue":t[4]||(t[4]=e=>m.isUpdateVisiable=e),title:"Edit Listing"},{footer:(0,r.w5)((()=>[(0,r._)("span",L,[(0,r.Wm)(S,{onClick:u.cancelUpdate},{default:(0,r.w5)((()=>[(0,r.Uk)("Cancel")])),_:1},8,["onClick"]),(0,r.Wm)(S,{type:"primary",onClick:u.confirmUpdate},{default:(0,r.w5)((()=>[(0,r.Uk)(" Confirm ")])),_:1},8,["onClick"])])])),default:(0,r.w5)((()=>[(0,r.Wm)(_,{model:m.updateForm},{default:(0,r.w5)((()=>[(0,r._)("h4",null," Edit Listing "+(0,b.zw)(m.updateForm.listingId),1),(0,r.Wm)(W,{label:"Set Amount","label-width":m.formLabelWidth},{default:(0,r.w5)((()=>[(0,r.Wm)(y,{modelValue:m.updateForm.amount,"onUpdate:modelValue":t[2]||(t[2]=e=>m.updateForm.amount=e),autocomplete:"off"},null,8,["modelValue"])])),_:1},8,["label-width"]),(0,r.Wm)(W,{label:"Set Price","label-width":m.formLabelWidth},{default:(0,r.w5)((()=>[(0,r.Wm)(y,{modelValue:m.updateForm.price,"onUpdate:modelValue":t[3]||(t[3]=e=>m.updateForm.price=e),autocomplete:"off"},null,8,["modelValue"])])),_:1},8,["label-width"])])),_:1},8,["model"])])),_:1},8,["modelValue"])])}a(2257);var _={components:{CompanyListings:s.Z,AddCompanyListing:f},data(){return{menuIndex:1,companyListings:[],isUpdateVisiable:!1,updateForm:{listingId:null,amount:null,price:null},formLabelWidth:"10em"}},methods:{switchMenu(e){this.menuIndex=e},editListing(e){console.log("Editing Listing :"),console.log(e),this.isUpdateVisiable=!0,this.updateForm.listingId=e.listingid,this.updateForm.amount=e.numShare,this.updateForm.price=e.price},cancelUpdate(){this.isUpdateVisiable=!1,this.updateForm.listingId=null,this.updateForm.amount=null,this.updateForm.price=null},confirmUpdate(){console.log("Submit Update Form"),console.log(this.updateForm);var e=this;p.Z.updateCompanyListings(this.updateForm).then((t=>{console.log(t),"success"===t.data.status?((0,c.z8)({message:t.data.message,type:"success"}),e.fetchCompanyListings()):c.z8.error(t.data.message)})),this.isUpdateVisiable=!1},renewListings(){this.fetchCompanyListings()},fetchCompanyListings(){var e=this;const t=this.$store.getters.getCompanyId;console.log("Company Id : ",t),p.Z.getCompanyListings("Company",t,null,null).then((t=>{"success"===t.data.status?(console.log(t.data.companyListings),e.companyListings=t.data.companyListings):c.z8.error("Resourse Not Found Error")}))}},beforeMount(){this.fetchCompanyListings()}};const S=(0,h.Z)(_,[["render",W]]);var U=S},5508:function(e,t,a){a(3241)},677:function(e,t,a){a(3241)},632:function(e,t,a){a(3241)},4334:function(e,t,a){a(3241),a(5095)},363:function(e,t,a){a(3241),a(5508),a(2471)},1010:function(e,t,a){a(3241),a(5508),a(5095),a(9290)},5095:function(e,t,a){a(3241),a(5392)}}]);
//# sourceMappingURL=957.9a2dc414.js.map