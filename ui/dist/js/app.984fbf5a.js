(function(){"use strict";var e={2104:function(e,t,n){n.d(t,{Z:function(){return f}});var o=n(1348),r=n(6154),a=n(7565);const s={baseUrlLoc:"https://swen90007-404notfound.onrender.com/404notfound-api",login:"/login",viewCompanyListings:"/viewCompanyListings",viewAllCustomer:"/viewCustomers",companyViewListings:"/companyViewListings",getPortfolioDetails:"/portfolioDetails",addShare:"/addShare",addCompanyListing:"/addCompanyListing",updateCompanyListing:"/updateCompanyListing",purchaseShare:"/purchase",sellShare:"/sell"};var i=s,u=n(2257);const l=r.Z.create({timeout:1e4,headers:{"Content-Type":"application/json"},withCredentials:!0,baseURL:i.baseUrlLoc});l.interceptors.request.use((e=>{var t=u.Z.getters.getAuthenticationToken;return console.log("GET Token"),console.log(t),e.headers["Authorization"]=t,e}),(e=>Promise.reject(e))),l.interceptors.response.use((e=>e),(e=>(console.error("Error:",e),o.z8.error(e),401===e.response.status&&(console.log("401 Error"),a.Z.push("/")),Promise.reject("Please Login, Close this page"))));var d=l;const c=r.Z.create({timeout:1e4,headers:{"Content-Type":"application/json"},withCredentials:!0,crossDomain:!0,baseURL:i.baseUrlLoc});c.interceptors.request.use(),c.interceptors.response.use((e=>e),(e=>(console.error("Error:",e),o.z8.error(e),e.response&&401===e.response.status&&a.Z.push("/"),Promise.reject(e))));var m=c;const p={login(e,t,n){var o={username:e,password:t,roletype:n};return m.post(i.login,o,{"Content-Type":"application/json"})},getCompanyListings(e,t,n,o){var r={},a="";return"Admin"===e?(r={roletype:"Admin"},a=i.viewCompanyListings):"Company"===e?(r={companyid:t},a=i.companyViewListings):(r={roletype:"Customer",companyname:n,shareType:o},a=i.viewCompanyListings),d.get(a,{params:r})},getAllCustomers(){return d.get(i.viewAllCustomer)},getPortfolioData(e){var t={userId:e};return d.get(i.getPortfolioDetails,{params:t})},addShare(e,t,n){console.log("Adding Share");var o={companyId:e,shareType:t,price:n};return d.post(i.addShare,o)},async addCompanyListings(e,t,n,r){var a=await this.addShare(e,t,r),s=null;return"success"===a.data.status?(console.log("share id is : ",a.data.shareId),s={shareId:a.data.shareId,numShare:n},d.post(i.addCompanyListing,s)):"duplicate"===a.data.status?(o.z8.error("Duplicate Share Type"),{data:{status:"duplicate"}}):(o.z8.error("Failed to create share"),{data:{status:"fail"}})},updateCompanyListings(e){var t={listingid:e.listingId,price:e.price,amount:e.amount};return d.post(i.updateCompanyListing,t)},sellShare(e){console.log(e.listId),console.log(e.amount);var t={listingid:e.listId,amount:e.amount};return d.post(i.sellShare,t)},purchaseShare(e,t){var n={userid:e,listingid:t.listId,amount:t.amount};return d.post(i.purchaseShare,n)}};var f=p},5269:function(e,t,n){var o=n(9963),r=n(6252);function a(e,t){const n=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(n)}var s=n(3744);const i={},u=(0,s.Z)(i,[["render",a]]);var l=u,d=n(5205);(0,d.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var c=n(7565),m=n(2257),p=n(5781),f={install:e=>{for(const t in p){const n=p[t];e.component(n.name,n)}}},h=n(6528),g=n(6154);n(3837);const y=(0,o.ri)(l);y.config.globalProperties.$axios=g.Z,y.use(f).use(h.Z).use(m.Z).use(c.Z),y.mount("#app")},7565:function(e,t,n){n.d(t,{Z:function(){return A}});var o=n(2201),r=n(5704),a=(n(3241),n(6124),n(8701),n(5836)),s=(n(9840),n(5659)),i=(n(444),n(5841)),u=(n(4367),n(6589),n(3034)),l=(n(986),n(1715),n(5610),n(6252));const d=e=>((0,l.dD)("data-v-59ce8cc8"),e=e(),(0,l.Cn)(),e),c={class:"content-container"},m=d((()=>(0,l._)("h1",null,"404NotFound Trading System",-1))),p=d((()=>(0,l._)("h2",null,"Login",-1)));function f(e,t,n,o,d,f){const h=r.nZ,g=u.BT,y=u.ElSelect,v=a.nH,b=i.EZ,T=s.ElButton,C=a.ly,w=r.b2,S=r.G4;return(0,l.wg)(),(0,l.iD)("div",c,[(0,l.Wm)(S,null,{default:(0,l.w5)((()=>[(0,l.Wm)(h,{class:"title"},{default:(0,l.w5)((()=>[m,p])),_:1}),(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l.Wm)(C,{ref:"form",model:d.form,"label-width":"120px"},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{label:"User Type"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{modelValue:d.form.userType,"onUpdate:modelValue":t[0]||(t[0]=e=>d.form.userType=e),placeholder:"Select user type"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{label:"Administrator",value:"Admin"}),(0,l.Wm)(g,{label:"Company User",value:"Company"}),(0,l.Wm)(g,{label:"Customer",value:"User"})])),_:1},8,["modelValue"])])),_:1}),(0,l.Wm)(v,{label:"Username"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{modelValue:d.form.username,"onUpdate:modelValue":t[1]||(t[1]=e=>d.form.username=e),modelModifiers:{trim:!0},"aria-placeholder":"user name"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(v,{label:"Password"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{type:"password",modelValue:d.form.password,"onUpdate:modelValue":t[2]||(t[2]=e=>d.form.password=e),modelModifiers:{trim:!0},"aria-placeholder":"password"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l.Wm)(T,{type:"primary",onClick:f.handleSubmit},{default:(0,l.w5)((()=>[(0,l.Uk)("Login")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])),_:1})])),_:1})])}var h=n(2104),g=n(1348),y={data(){return{form:{userType:"",username:"",password:""}}},methods:{handleSubmit(){var e=this;this.form.userType&&this.form.username&&this.form.password?(console.log("Form submitted",this.form),h.Z.login(this.form.username,this.form.password,this.form.userType).then((t=>{console.log(t.data);var n=t.data;if("success"===n.status){console.log(n.message);var o={userType:n.roletype,username:e.form.username,userId:n.userId};e.$store.dispatch("updateUserInfo",o),console.log("user-info stored"),e.$store.dispatch("updateAuthenticationStatus",!0),console.log("authentication stored"),e.$store.dispatch("updateAuthenticationToken",n.token),console.log("token stored"),(0,g.z8)({message:n.message+" user type : "+n.roletype,type:"success"}),setTimeout((()=>{"Company"===o.userType?(e.$store.dispatch("updateCompanyId",n.companyid),A.push({path:"/company-dashboard/"+o.userId+"/"+o.username})):"Admin"===o.userType?A.push({path:"/admin-dashboard/"+o.userId+"/"+o.username}):(e.$store.dispatch("updateBalance",t.data.balance),A.push({path:"/customer-dashboard/"+o.userId+"/"+o.username}))}),1e3)}else g.z8.error(n.message)}))):(console.error("All fields are required"),g.z8.error("All fields are required"))}}},v=n(3744);const b=(0,v.Z)(y,[["render",f],["__scopeId","data-v-59ce8cc8"]]);var T=b,C=n(2257);const w=[{path:"/",name:"login",component:T},{path:"/company-dashboard/:id/:username",name:"company-dashboard",component:()=>Promise.all([n.e(867),n.e(957)]).then(n.bind(n,3957))},{path:"/customer-dashboard/:id/:username",name:"customer-dashboard",component:()=>Promise.all([n.e(867),n.e(576)]).then(n.bind(n,9576))},{path:"/admin-dashboard/:id/:username",name:"admin-dashboard",component:()=>Promise.all([n.e(867),n.e(22)]).then(n.bind(n,6022))}],S=(0,o.p7)({history:(0,o.PO)("/"),routes:w});S.beforeEach(((e,t)=>"login"==e.name||C.Z.getters.getAuthenticationStatus));var A=S},2257:function(e,t,n){var o=n(3907);t.Z=(0,o.MT)({state:{userInfo:{userType:"",username:"",userId:null},authenticationStatus:!0,allCompanyListings:[],authenticationToken:"",balance:0,companyId:null},getters:{getUserInfo:e=>e.userInfo,getAuthenticationStatus:e=>e.authenticationStatus,getAllCompanyListings:e=>e.allCompanyListings,getAuthenticationToken:e=>e.authenticationToken,getBalance:e=>e.balance,getCompanyId:e=>e.companyId},mutations:{SET_USER_INFO(e,t){e.userInfo=t},SET_AUTHENTICATION_STATUS(e,t){e.authenticationStatus=t},SET_ALL_COMPANY_LISTINGS(e,t){e.allCompanyListings=t},SET_AUTHENTICATION_TOKEN(e,t){e.authenticationToken=t},SET_BALANCE(e,t){e.balance=t},SET_COMPANYID(e,t){e.companyId=t}},actions:{updateUserInfo({commit:e},t){e("SET_USER_INFO",t)},updateAuthenticationStatus({commit:e},t){e("SET_AUTHENTICATION_STATUS",t)},updateAllCompanyListings({commit:e},t){e("SET_ALL_COMPANY_LISTINGS",t)},updateAuthenticationToken({commit:e},t){e("SET_AUTHENTICATION_TOKEN",t)},updateBalance({commit:e},t){e("SET_BALANCE",t)},updateCompanyId({commit:e},t){e("SET_COMPANYID",t)}},modules:{}})}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,a){if(!o){var s=1/0;for(d=0;d<e.length;d++){o=e[d][0],r=e[d][1],a=e[d][2];for(var i=!0,u=0;u<o.length;u++)(!1&a||s>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[u])}))?o.splice(u--,1):(i=!1,a<s&&(s=a));if(i){e.splice(d--,1);var l=r();void 0!==l&&(t=l)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[o,r,a]}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{22:"2a522165",576:"af32e52d",867:"c718b2cb",957:"9a2dc414"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{22:"b1500c2e",576:"866a7175",867:"92b7e0d6",957:"0a3e47e0"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="trading-system:";n.l=function(o,r,a,s){if(e[o])e[o].push(r);else{var i,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var c=l[d];if(c.getAttribute("src")==o||c.getAttribute("data-webpack")==t+a){i=c;break}}i||(u=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+a),i.src=o),e[o]=[r];var m=function(t,n){i.onerror=i.onload=null,clearTimeout(p);var r=e[o];if(delete e[o],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),u&&document.head.appendChild(i)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,o,r){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var s=function(n){if(a.onerror=a.onload=null,"load"===n.type)o();else{var s=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=s,u.request=i,a.parentNode&&a.parentNode.removeChild(a),r(u)}};return a.onerror=a.onload=s,a.href=t,n?n.parentNode.insertBefore(a,n.nextSibling):document.head.appendChild(a),a},t=function(e,t){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var r=n[o],a=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(a===e||a===t))return r}var s=document.getElementsByTagName("style");for(o=0;o<s.length;o++){r=s[o],a=r.getAttribute("data-href");if(a===e||a===t)return r}},o=function(o){return new Promise((function(r,a){var s=n.miniCssF(o),i=n.p+s;if(t(s,i))return r();e(o,i,null,r,a)}))},r={143:0};n.f.miniCss=function(e,t){var n={22:1,576:1,867:1,957:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=o(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}}(),function(){var e={143:0};n.f.j=function(t,o){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else if(867!=t){var a=new Promise((function(n,o){r=e[t]=[n,o]}));o.push(r[2]=a);var s=n.p+n.u(t),i=new Error,u=function(o){if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var a=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",i.name="ChunkLoadError",i.type=a,i.request=s,r[1](i)}};n.l(s,u,"chunk-"+t,t)}else e[t]=0},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,a,s=o[0],i=o[1],u=o[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(u)var d=u(n)}for(t&&t(o);l<s.length;l++)a=s[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},o=self["webpackChunktrading_system"]=self["webpackChunktrading_system"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(5269)}));o=n.O(o)})();
//# sourceMappingURL=app.984fbf5a.js.map